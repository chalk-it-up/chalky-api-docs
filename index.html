
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Chalky REST API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e033bdd3.js"></script>

  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-0e60d922.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#chalky-api-introduction" class="toc-h1 toc-link" data-title="Chalky API Introduction">Chalky API Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction" class="toc-h2 toc-link" data-title="Introduction">Introduction</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#invalid-requests" class="toc-h2 toc-link" data-title="Invalid Requests">Invalid Requests</a>
                  </li>
                  <li>
                    <a href="#health" class="toc-h2 toc-link" data-title="Health">Health</a>
                  </li>
                  <li>
                    <a href="#system" class="toc-h2 toc-link" data-title="System">System</a>
                  </li>
                  <li>
                    <a href="#register" class="toc-h2 toc-link" data-title="Register">Register</a>
                  </li>
                  <li>
                    <a href="#login" class="toc-h2 toc-link" data-title="Login">Login</a>
                  </li>
                  <li>
                    <a href="#reset-password-link-request" class="toc-h2 toc-link" data-title="Reset Password Link Request">Reset Password Link Request</a>
                  </li>
                  <li>
                    <a href="#reset-password" class="toc-h2 toc-link" data-title="Reset Password">Reset Password</a>
                  </li>
                  <li>
                    <a href="#confirm-email" class="toc-h2 toc-link" data-title="Confirm Email">Confirm Email</a>
                  </li>
                  <li>
                    <a href="#update-password" class="toc-h2 toc-link" data-title="Update Password">Update Password</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#general" class="toc-h1 toc-link" data-title="General">General</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#tags" class="toc-h2 toc-link" data-title="Tags">Tags</a>
                  </li>
                  <li>
                    <a href="#provinces" class="toc-h2 toc-link" data-title="Provinces">Provinces</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#images" class="toc-h1 toc-link" data-title="Images">Images</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-an-image" class="toc-h2 toc-link" data-title="Add an Image">Add an Image</a>
                  </li>
                  <li>
                    <a href="#update-an-image" class="toc-h2 toc-link" data-title="Update an Image">Update an Image</a>
                  </li>
                  <li>
                    <a href="#get-an-image" class="toc-h2 toc-link" data-title="Get an Image">Get an Image</a>
                  </li>
                  <li>
                    <a href="#list-images-for-an-entity" class="toc-h2 toc-link" data-title="List Images for an Entity">List Images for an Entity</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user" class="toc-h1 toc-link" data-title="User">User</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#user-details" class="toc-h2 toc-link" data-title="User Details">User Details</a>
                  </li>
                  <li>
                    <a href="#update-user-details" class="toc-h2 toc-link" data-title="Update User Details">Update User Details</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user" class="toc-h1 toc-link" data-title="User">User</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#user-relations" class="toc-h2 toc-link" data-title="User Relations">User Relations</a>
                  </li>
                  <li>
                    <a href="#update-password" class="toc-h2 toc-link" data-title="Update Password">Update Password</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#charity" class="toc-h1 toc-link" data-title="Charity">Charity</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-charities" class="toc-h2 toc-link" data-title="Get All Charities">Get All Charities</a>
                  </li>
                  <li>
                    <a href="#get-one-charity" class="toc-h2 toc-link" data-title="Get One Charity">Get One Charity</a>
                  </li>
                  <li>
                    <a href="#update-charity-details" class="toc-h2 toc-link" data-title="Update Charity Details">Update Charity Details</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#school" class="toc-h1 toc-link" data-title="School">School</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-schools" class="toc-h2 toc-link" data-title="Get All Schools">Get All Schools</a>
                  </li>
                  <li>
                    <a href="#get-one-school" class="toc-h2 toc-link" data-title="Get One School">Get One School</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#student" class="toc-h1 toc-link" data-title="Student">Student</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-student-details" class="toc-h2 toc-link" data-title="Add Student Details">Add Student Details</a>
                  </li>
                  <li>
                    <a href="#get-student-details" class="toc-h2 toc-link" data-title="Get Student Details">Get Student Details</a>
                  </li>
                  <li>
                    <a href="#update-student-details" class="toc-h2 toc-link" data-title="Update Student Details">Update Student Details</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#status-codes" class="toc-h1 toc-link" data-title="Status Codes">Status Codes</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://example.com/some-api'>Chalky API</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='chalky-api-introduction'>Chalky API Introduction</h1><h2 id='introduction'>Introduction</h2>
<p>All shell commands use <code>HTTPie</code> instead of curl but you could use curl if you choose. Syntax will vary slightly.</p>
<h2 id='authentication'>Authentication</h2>
<p>Upon successful logon an authentication token will be returned.</p>

<p>Chalky API expects this authentication token to be present in the header of each request: </p>

<p><code>Authorization: Bearer $AUTH_TOKEN</code></p>

<aside class="notice">
You must replace <code>$AUTH_TOKEN</code> with the token returned in the logon response message.
</aside>

<p>The exceptions to this are the Health, Logon and Register endpoints which require no authentication header.</p>
<h2 id='invalid-requests'>Invalid Requests</h2>
<p>If a request fails then the most common response would be something like the following:</p>

<p>HTTP status code 400 - Bad Request</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Last name was not specified"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A full list of the status codes used can be found under <code>Status Codes</code></p>
<h2 id='health'>Health</h2>
<p>This endpoint returns the health of the system.</p>

<p>This endpoint is unique in that two methods are supported HEAD (preferred) and GET.</p>

<p>No authentication header is required for this endpoint.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http HEAD example.com/health
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>HEAD example.com/health</code></p>

<p>Returns HTTP status code 200 and no content</p>

<p><code>GET example.com/health</code></p>

<p>Returns HTTP status code 200 and content <code>OK</code></p>
<h2 id='system'>System</h2>
<p>This endpoint returns useful information pertaining to the system itself.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/system
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET example.com/system</code></p>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"chalky_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"java_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.0.6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"process_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-31T12:01:09.146Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='register'>Register</h2>
<p>This endpoint is used to register a new user on the system</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http POST example.com/register <span class="nv">email</span><span class="o">=</span>joe@soap.com <span class="nv">password</span><span class="o">=</span>secret <span class="nv">user_type</span><span class="o">=</span>C
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>POST example.com/register</code></p>
<h3 id='parameters'>Parameters</h3>
<p>The register handler works in two different modes depending on whether the user is a student or an adult.</p>
<h3 id='user-type'>User Type</h3>
<p>The possible values for <code>user_type</code> can be:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>A</td>
<td>Administrator</td>
</tr>
<tr>
<td>S</td>
<td>Student</td>
</tr>
<tr>
<td>C</td>
<td>Charity</td>
</tr>
<tr>
<td>P</td>
<td>Parent or Guardian</td>
</tr>
<tr>
<td>T</td>
<td>Teacher</td>
</tr>
</tbody></table>

<p><strong>(Student)</strong>
When a student registers an email is sent to the student&#39;s parent to complete the registration process.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>The first name of student that is registering</td>
</tr>
<tr>
<td>parent_email</td>
<td>The email address of the studen&#39;t parent</td>
</tr>
<tr>
<td>user_type</td>
<td>The type of user registering (must be <code>S</code>)</td>
</tr>
</tbody></table>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An email has been sent to the parent email address provided"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>(Adult)</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address of the new user</td>
</tr>
<tr>
<td>password</td>
<td>The password to be used for the new user</td>
</tr>
<tr>
<td>user_type</td>
<td>The type of user registering (must be <code>C</code>, <code>P</code> or <code>T</code>)</td>
</tr>
</tbody></table>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2325393376858483571</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAi.....7sjnwj"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"volunteer-owner"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"charity-view"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"school-list"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"everyone"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>In the event of a problem, the following JSON would be returned</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Registration failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The email address is not a valid format"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='login'>Login</h2>
<p>This endpoint is used to login to the Chalky API system</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http POST example.com/login <span class="nv">email</span><span class="o">=</span>joe@soap.com <span class="nv">password</span><span class="o">=</span>secret
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>POST example.com/login</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address of the user</td>
</tr>
<tr>
<td>password</td>
<td>The password for the user</td>
</tr>
</tbody></table>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">272466682903204</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAi.....7sjnwj"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Soap"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email_confirmed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"profile_complete"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"charity-view"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event-view"</span><span class="w">
      </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='reset-password-link-request'>Reset Password Link Request</h2>
<p>The reset password functionality comprises two stages. The first stage is the requesting of the password reset link.
 The link is emailed to the user if the provided email address is valid.</p>

<p>A status of success true will be returned irrespective of whether the email is valid or not. </p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/reset_password_request <span class="nv">email</span><span class="o">=</span>joe@soap.com
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>POST example.com/reset_password_request</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address of the user</td>
</tr>
</tbody></table>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='reset-password'>Reset Password</h2>
<p>The second stage will be invoked when the password reset link is clicked and the new details have been submitted.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST example.com/reset_password</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>The token provided by the password reset request</td>
</tr>
<tr>
<td>new_password</td>
<td>The new password requested by the user</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http POST example.com/reset_password <span class="nv">token</span><span class="o">=</span>joe@soap.com <span class="nv">new_password</span><span class="o">=</span>Secret44
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The password has been reset"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='confirm-email'>Confirm Email</h2>
<p>This is a simple endpoint that allows a user&#39;s email address to be confirmed.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST example.com/confirm_email</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address that is to be confirmed</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http POST example.com/confirm_email <span class="nv">email</span><span class="o">=</span>joe@soap.com
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The email address has been confirmed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='update-password'>Update Password</h2>
<p>Here a user can reset their own password assuming they are already authenticated.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>PUT example.com/api/users/:id/password</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>current_password</td>
<td>The user&#39;s current password</td>
</tr>
<tr>
<td>new_password</td>
<td>The new password requested by the user</td>
</tr>
</tbody></table>

<p>The frontend UI should have two fields to confirm that new password matches in both.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http PUT example.com/api/users/:id/password <span class="nv">current_password</span><span class="o">=</span>OldSecret <span class="nv">new_password</span><span class="o">=</span>NewSecret
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='general'>General</h1><h2 id='tags'>Tags</h2>
<p>This endpoint returns a list of tags.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/tags
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET example.com/api/tags</code></p>

<blockquote>
<p>The above command returns JSON structured like this (TODO):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Animals"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Children and Youth"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h2 id='provinces'>Provinces</h2>
<p>This endpoint returns a list of provinces.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/provinces
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET example.com/api/provinces</code></p>

<blockquote>
<p>The above command returns JSON structured like this (TODO):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eastern Cape"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free State"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gauteng"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h1 id='images'>Images</h1><h2 id='add-an-image'>Add an Image</h2>
<p>This endpoint can be used to add an image for an entity.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http POST example.com/api/images
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>POST example.com/api/images</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>entity_id</td>
<td>88646876442651</td>
</tr>
<tr>
<td>image_type</td>
<td>&quot;thumbnail_400x400&quot;</td>
</tr>
<tr>
<td>image_data</td>
<td>&quot;<em>base64_encoded_content</em>&quot;</td>
</tr>
</tbody></table>

<blockquote>
<p>Entity id be any user or organisation such as student, parent, school, charity.</p>

<p>Image type is flexible but can be used to add multiple images per entity.</p>

<p>The above command returns JSON structured like below where id is the identity of the images just added.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">88646878580765</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='update-an-image'>Update an Image</h2>
<p>This endpoint can be used to add an image for an entity.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http PUT example.com/api/images/:id
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>PUT example.com/api/images/87946494654</code></p>
<h3 id='parameters'>Parameters</h3>
<p>The path parameter (:id) is the image id</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>image_data</td>
<td>&quot;<em>base64_encoded_content</em>&quot;</td>
</tr>
</tbody></table>

<p>Entity id be any user or organisation such as student, parent, school, charity.
Image type is flexible but can be used to add multiple images per entity.</p>
<h2 id='get-an-image'>Get an Image</h2>
<p>This endpoint can be used to get an image using the unique image id.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/images/:id
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET example.com/api/images/87946494654</code></p>
<h3 id='parameters'>Parameters</h3>
<p>The path parameter (:id) is the image id</p>

<blockquote>
<p>The above command returns JSON structured like below where id is the identity of the image.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">88646878580765</span><span class="p">,</span><span class="w">
        </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">62816468781029</span><span class="p">,</span><span class="w">
        </span><span class="nl">"image_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"thumbnail"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"image_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">78261</span><span class="p">,</span><span class="w">
        </span><span class="nl">"image_data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__base64 encoded data__"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='list-images-for-an-entity'>List Images for an Entity</h2>
<p>This endpoint can be used to list the image details for the given entity.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/images?entity_id<span class="o">=</span>23863428
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p>`GET example.com/api/images?entity_id=23863428</p>

<blockquote>
<p>The above command returns JSON structured like below.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">88646878580765</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">62816468781029</span><span class="p">,</span><span class="w">
          </span><span class="nl">"image_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"thumbnail"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"image_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2761</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">88646878580789</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">62816468781029</span><span class="p">,</span><span class="w">
          </span><span class="nl">"image_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mugshot"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"image_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">78820</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='user'>User</h1><h2 id='user-details'>User Details</h2>
<p>This endpoint returns useful information pertaining to the specified user.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/users/:id
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET example.com/api/users/:id</code></p>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2129666729394050204</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chalky@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email_confirmed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profile_complete"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"time_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2010-06-09T18:17:36.641"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='update-user-details'>Update User Details</h2>
<p>This endpoint allows a user to update common details.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http PUT example.com/api/user/:id
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>PUT example.com/api/user/:id</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>The user_id of the user to change</td>
</tr>
<tr>
<td>first_name</td>
<td>The new first name of the user</td>
</tr>
<tr>
<td>last_name</td>
<td>The new last name, or surname, of the user</td>
</tr>
</tbody></table>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">
</span></code></pre></div><h1 id='user'>User</h1><h2 id='user-relations'>User Relations</h2>
<p>This endpoint returns the relationships of the parent user.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/users/:id/relations
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET example.com/api/users/:id/relations</code></p>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1124662724344876291</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joey"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Soap"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"relationship"</span><span class="p">:</span><span class="w"> </span><span class="s2">"child"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1124662724344876291</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Waters"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"relationship"</span><span class="p">:</span><span class="w"> </span><span class="s2">"child"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='update-password'>Update Password</h2>
<p>When a user wishes to change their password.</p>

<p>Can only be called for the authenticated user.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST example.com/api/users/:id/password</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>current_password</td>
<td>The current password used by the user</td>
</tr>
<tr>
<td>new_password</td>
<td>The new password to set for the user</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http POST example.com/api/users/123456 <span class="nv">current_password</span><span class="o">=</span>test1234 <span class="nv">new_password</span><span class="o">=</span>test2345
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The password has been updated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='charity'>Charity</h1><h2 id='get-all-charities'>Get All Charities</h2>
<p>This endpoint returns a list of all charities.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/charities
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET example.com/api/charities</code></p>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Animals"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"charity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2327833979673121796</span><span class="p">,</span><span class="w">
        </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johannesburg"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info@arkanimalcentre.co.za"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gps_latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"S25° 59’03.3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gps_longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E027°56’45.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ark Animal Centre – Puppy Shelter"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"province"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gauteng"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"province_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"registration_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"930053318"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17 Howard Avenue"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"suburb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chartwell"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"087 742 2211"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.arkanimalcentre.co.za/"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Children and Youth"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"charity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2327833979631178753</span><span class="p">,</span><span class="w">
        </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sandton"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info@heartsofhope.org.za"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gps_latitude"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gps_longitude"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"082 458 2677"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hearts of Hope"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"province"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gauteng"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"province_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"registration_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"suburb"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://heartsofhope.org.za/"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h2 id='get-one-charity'>Get One Charity</h2>
<p>This endpoint returns the details for a single charity.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/charities/:id
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET example.com/api/charities/2327833979673121796</code></p>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Animals"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"charity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2327833979673121796</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johannesburg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info@arkanimalcentre.co.za"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"gps_latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"S25° 59’03.3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"gps_longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E027°56’45.5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ark Animal Centre – Puppy Shelter"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"province"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gauteng"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"province_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"registration_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"930053318"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17 Howard Avenue"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"suburb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chartwell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"087 742 2211"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.arkanimalcentre.co.za/"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='update-charity-details'>Update Charity Details</h2>
<p>This endpoint can be used to update the details of a charity.</p>
<h3 id='todo'>TODO</h3>
<ul>
<li>Normalise charity contacts</li>
<li>Add extra fields for social media (which ones? facebook, instagram, twitter? other?) </li>
</ul>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http PUT example.com/api/charities/:id
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>PUT example.com/api/charities/2327833979673121796</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The id of the charity to change</td>
</tr>
<tr>
<td>name</td>
<td>The name of the charity</td>
</tr>
<tr>
<td>category_id</td>
<td>The category_id of the charity</td>
</tr>
<tr>
<td>street</td>
<td>The street number and name</td>
</tr>
<tr>
<td>suburb</td>
<td>The name of the suburb</td>
</tr>
<tr>
<td>city</td>
<td>The name of the city</td>
</tr>
<tr>
<td>province_id</td>
<td>The id from the list of suburbs</td>
</tr>
<tr>
<td>contact</td>
<td>The primary contact (should normalise contacts here too)</td>
</tr>
<tr>
<td>email</td>
<td>The general email</td>
</tr>
<tr>
<td>mobile</td>
<td>The mobile number of contact (should normalise contacts here too)</td>
</tr>
<tr>
<td>telephone</td>
<td>The main telephone number</td>
</tr>
<tr>
<td>website</td>
<td>The website of the charity</td>
</tr>
<tr>
<td>registration_number</td>
<td>the NGO or similar (need verification)</td>
</tr>
<tr>
<td>gps_latitude</td>
<td>Used for exact location</td>
</tr>
<tr>
<td>gps_longitude</td>
<td>Used for exact location (do we combine to one field?)</td>
</tr>
</tbody></table>
<h1 id='school'>School</h1><h2 id='get-all-schools'>Get All Schools</h2>
<p>This endpoint returns a list of all schools.</p>

<p>This needs improvement and contacts normalised.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/schools
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET example.com/api/schools</code></p>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2076815814010344533</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saint Peter's College"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2076815813976790099</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"St Stithians Boys' College"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contact_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2076815814001955924</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"St Stithians Girls' College"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h2 id='get-one-school'>Get One School</h2>
<p>This endpoint returns the details for a selected school.</p>

<p>This needs improvement and contacts normalised.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/schools/:id
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET example.com/api/schools/2076815814010344533</code></p>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contact_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contact_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2076815814010344533</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saint Peter's College"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='student'>Student</h1><h2 id='add-student-details'>Add Student Details</h2>
<p>This endpoint can be used to add a new student.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http POST example.com/api/students
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>POST example.com/api/students/</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>parent_id</td>
<td>88646843863055</td>
</tr>
<tr>
<td>email</td>
<td>&quot;student2@mail.org&quot;</td>
</tr>
<tr>
<td>first_name</td>
<td>&quot;Joe&quot;</td>
</tr>
<tr>
<td>last_name</td>
<td>&quot;Soap&quot;</td>
</tr>
<tr>
<td>mobile</td>
<td>&quot;0802223333&quot;</td>
</tr>
<tr>
<td>date_of_birth</td>
<td>&quot;2010-01-01&quot;</td>
</tr>
<tr>
<td>gender</td>
<td>&quot;M&quot;</td>
</tr>
<tr>
<td>grade</td>
<td>&quot;6&quot;</td>
</tr>
<tr>
<td>id_type</td>
<td>&quot;P&quot;</td>
</tr>
<tr>
<td>id_number</td>
<td>&quot;456789&quot;</td>
</tr>
<tr>
<td>school_id</td>
<td>444444</td>
</tr>
<tr>
<td>image_data</td>
<td>&quot;<em>base64_encoded_content</em>&quot;</td>
</tr>
</tbody></table>
<h2 id='get-student-details'>Get Student Details</h2>
<p>This endpoint returns the details for a single student.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http GET example.com/api/students/:id
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET example.com/api/students/123456</code></p>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20040401"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0801112222"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"school_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">207681581397679</span><span class="p">,</span><span class="w">
    </span><span class="nl">"school_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"St Stithians Boys' College"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volunteer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21296667295366</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='update-student-details'>Update Student Details</h2>
<p>This endpoint can be used to update the details of a student.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>http PUT example.com/api/students/:id
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">TODO</span>
</code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>PUT example.com/api/students/2327833979673121796</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>parent_id</td>
<td>88646843863055</td>
</tr>
<tr>
<td>email</td>
<td>&quot;student2@mail.org&quot;</td>
</tr>
<tr>
<td>first_name</td>
<td>&quot;Joe&quot;</td>
</tr>
<tr>
<td>last_name</td>
<td>&quot;Soap&quot;</td>
</tr>
<tr>
<td>mobile</td>
<td>&quot;0802223333&quot;</td>
</tr>
<tr>
<td>date_of_birth</td>
<td>&quot;2010-01-01&quot;</td>
</tr>
<tr>
<td>gender</td>
<td>&quot;M&quot;</td>
</tr>
<tr>
<td>grade</td>
<td>&quot;6&quot;</td>
</tr>
<tr>
<td>id_type</td>
<td>&quot;P&quot;</td>
</tr>
<tr>
<td>id_number</td>
<td>&quot;456789&quot;</td>
</tr>
<tr>
<td>school_id</td>
<td>444444</td>
</tr>
<tr>
<td>image_data</td>
<td>&quot;<em>base64_encoded_content</em>&quot;</td>
</tr>
</tbody></table>
<h1 id='status-codes'>Status Codes</h1>
<p>The Chalky API uses the following HTTP status codes:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK -- Your request was successful.</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your Authentication Token key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The requested is hidden not permitted for given credentials.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access an endpoint with an invalid HTTP method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The resource requested has been removed from our servers.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many resources! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
